import{g as r,D as N}from"./DrawSVGPlugin-gbql0MFf.js";import{D as V,m as R,d as x,c as S,_ as q,l as p,a as d,h as w,g as c,b as _,e as a,f as l,i as f,t as m,p as A,q as $,T as B,r as G,F as I,u as M,j as T,k as z}from"./_plugin-vue_export-helper-Dg3X6I8a.js";import{r as P,a as O}from"./string-BeBbVoVE.js";import{O as U,F as E}from"./FittedContent-C1kk2H27.js";import{S as j,f as J,B as W,a as L,u as D,c as K,l as Q}from"./casterStore-DDIwf9qE.js";import{u as F,a as X}from"./activeRoundStore-NyoUqykV.js";import{l as Y,F as Z}from"./index.es-DRRw5Fw1.js";import{s as h}from"./storeHelper-Dip-Ut0B.js";const ee=nodecg.Replicant("scoreboardData",V),te=[ee],H=R("scoreboard",{state:()=>({scoreboardData:null})}),oe=x({name:"Scoreboard",components:{ScoreCounter:j,OpacitySwapTransition:U,FittedContent:E},setup(){const t=F(),y=S(()=>t.activeRound.teamA),i=S(()=>t.activeRound.teamB),o=H();return{teamA:y,teamB:i,teamAName:S(()=>{var e;return O((e=y.value)==null?void 0:e.name)}),teamBName:S(()=>{var e;return O((e=i.value)==null?void 0:e.name)}),scoreboardStore:o,scoreboardEnter:(e,n)=>{const s=r.timeline({onComplete:n});s.addLabel("lineIn").addLabel("textIn","+=0.45"),s.to(e.querySelectorAll(".scoreboard-line"),{duration:1,drawSVG:!0,ease:"power1.inOut"},"lineIn").to(e.querySelectorAll(".background"),{duration:.6,opacity:1,x:0,ease:"power2.out",delay:.7},"lineIn").to(e.querySelector(".score-separator"),{duration:.6,width:295,ease:"power2.out",delay:.3},"lineIn").to(e.querySelector(".score-separator"),{duration:.25,opacity:1,ease:"power2.out",delay:.2},"lineIn").to(e.querySelectorAll(".team-name"),{x:0,duration:.65,ease:"power2.out",stagger:.1},"textIn").to(e.querySelectorAll(".team-score"),{y:0,duration:.35,ease:"power2.out"},"textIn").to(e.querySelectorAll(".team-color"),{x:0,duration:.35,ease:"power2.out",delay:.4},"textIn").to(e.querySelectorAll(".scoreboard-icon, #scoreboard-flavor-text"),{x:0,opacity:1,duration:.5,stagger:-.1,ease:"power2.out"},"textIn")},beforeScoreboardEnter:e=>{r.set(e.querySelectorAll(".scoreboard-line"),{drawSVG:"100% 100%"}),r.set(e.querySelector(".flavor-text-background"),{opacity:0,x:100}),r.set(e.querySelector(".teams-background"),{opacity:0,x:-100}),r.set(e.querySelector(".score-separator"),{width:0,opacity:0}),r.set(e.querySelectorAll(".team-name"),{x:-250}),r.set(e.querySelector("#team-a-score"),{y:50}),r.set(e.querySelector("#team-b-score"),{y:-50}),r.set(e.querySelectorAll(".team-color"),{x:50}),r.set(e.querySelectorAll(".scoreboard-icon, #scoreboard-flavor-text"),{x:-50,opacity:0})},scoreboardLeave:(e,n)=>{const s=r.timeline({onComplete:n});s.addLabel("textOut").addLabel("lineOut","+=0.35"),s.to(e.querySelectorAll(".scoreboard-line"),{duration:1,drawSVG:"100% 100%",ease:"power1.inOut"},"lineOut").to(e.querySelector(".flavor-text-background"),{duration:.6,opacity:0,x:100,ease:"power2.in"},"textOut").to(e.querySelector(".teams-background"),{duration:.6,opacity:0,x:-100,ease:"power2.in"},"textOut").to(e.querySelector(".score-separator"),{duration:.6,width:0,ease:"power2.in"},"lineOut").to(e.querySelector(".score-separator"),{duration:.25,opacity:0,ease:"power2.out",delay:.55},"lineOut").to(e.querySelectorAll(".team-name"),{x:-250,duration:.45,ease:"power2.in",stagger:.1},"textOut").to(e.querySelector("#team-a-score"),{y:50,duration:.35,ease:"power2.in"},"textOut").to(e.querySelector("#team-b-score"),{y:-50,duration:.35,ease:"power2.in"},"textOut").to(e.querySelectorAll(".team-color"),{x:50,duration:.35,ease:"power2.in"},"textOut").to(e.querySelectorAll(".scoreboard-icon, #scoreboard-flavor-text"),{x:-50,opacity:0,duration:.5,stagger:.1,ease:"power2.in"},"textOut")},resolveStaticPath:P}}}),ae={key:0,class:"scoreboard-wrapper"},re=a("svg",{width:"380",height:"160",viewBox:"0 0 380 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{class:"scoreboard-line",d:"M369 88.5V5C369 2.79086 367.209 1 365 1H49C46.7909 1 45 2.79086 45 5V103.5C45 105.709 46.7909 107.5 49 107.5H365C367.209 107.5 369 109.291 369 111.5V149C369 151.209 367.209 153 365 153H-3","stroke-linecap":"round",style:{fill:"none",stroke:"#5FBFF9","stroke-width":"4px"}}),a("path",{class:"scoreboard-line",d:"M369 88.5V5C369 2.79086 367.209 1 365 1H49C46.7909 1 45 2.79086 45 5V103.5C45 105.709 46.7909 107.5 49 107.5H365C367.209 107.5 369 109.291 369 111.5V149C369 151.209 367.209 153 365 153H-3","stroke-linecap":"round",style:{fill:"none",stroke:"#fff","stroke-width":"2px"}})],-1),se={class:"content layout vertical c-vert c-horiz"},ne=a("div",{class:"background teams-background"},null,-1),ce={class:"score-row layout horiz c-vert"},le=a("div",{class:"score-separator"},null,-1),ie={class:"score-row layout horiz c-vert"},de={class:"flavor-text-container layout horiz c-vert"},ue=a("div",{class:"background flavor-text-background"},null,-1),pe=["src"];function ye(t,y,i,o,e,n){const s=p("fitted-content"),u=p("opacity-swap-transition"),v=p("score-counter");return d(),w(B,{onEnter:t.scoreboardEnter,onLeave:t.scoreboardLeave,onBeforeEnter:t.beforeScoreboardEnter},{default:c(()=>{var b,g,k,C;return[t.scoreboardStore.scoreboardData.isVisible?(d(),_("div",ae,[re,a("div",se,[ne,a("div",ce,[l(u,null,{default:c(()=>[(d(),w(s,{key:t.teamAName,class:"team-name","max-width":230},{default:c(()=>[f(m(t.teamAName),1)]),_:1}))]),_:1}),l(v,{id:"team-a-score",class:"team-score",value:(b=t.teamA)==null?void 0:b.score},null,8,["value"]),a("div",{id:"team-a-color",class:"team-color",style:A({backgroundColor:(g=t.teamA)==null?void 0:g.color})},null,4)]),le,a("div",ie,[l(u,null,{default:c(()=>[(d(),w(s,{key:t.teamBName,class:"team-name","max-width":230},{default:c(()=>[f(m(t.teamBName),1)]),_:1}))]),_:1}),l(v,{id:"team-b-score",class:"team-score",value:(k=t.teamB)==null?void 0:k.score},null,8,["value"]),a("div",{id:"team-b-color",class:"team-color",style:A({backgroundColor:(C=t.teamB)==null?void 0:C.color})},null,4)])]),a("div",de,[ue,l(u,null,{default:c(()=>[(d(),w(s,{id:"scoreboard-flavor-text",key:t.scoreboardStore.scoreboardData.flavorText,align:"left","max-width":270,class:"scoreboard-flavor-text"},{default:c(()=>[f(m(t.scoreboardStore.scoreboardData.flavorText),1)]),_:1}))]),_:1}),a("img",{class:"scoreboard-icon",src:t.resolveStaticPath("/SJ_Eyes.png")},null,8,pe)])])):$("",!0)]}),_:1},8,["onEnter","onLeave","onBeforeEnter"])}const me=q(oe,[["render",ye]]);Y.add(J.faMicrophone);const be=x({name:"Casters",components:{Badge:W,FittedContent:E,FontAwesomeIcon:Z},setup(){const t=L(),y=D(),i=G(!1);return nodecg.listenFor("mainShowCasters",V,()=>{i.value||(i.value=!0,setTimeout(()=>{i.value=!1},15*1e3))}),{casters:S(()=>t.casters),castersVisible:i,localeInfoStore:y,castersEnter:(o,e)=>{const n=r.timeline({onComplete:e});n.addLabel("lineIn").addLabel("textIn","+=0.45"),n.to(o.querySelectorAll(".casters-line"),{duration:1,drawSVG:!0,ease:"power1.inOut"},"lineIn").to(o.querySelectorAll(".background"),{duration:.6,opacity:1,x:0,ease:"power2.out",delay:.8},"lineIn").to(o.querySelectorAll(".caster"),{x:0,opacity:1,duration:.65,ease:"power2.out",stagger:.1,delay:.25},"textIn").to(o.querySelectorAll(".title > .icon, .title > .text"),{x:0,opacity:1,duration:.65,ease:"power2.out",stagger:.1,delay:.25},"textIn")},beforeCastersEnter:o=>{r.set(o.querySelectorAll(".casters-line"),{drawSVG:"0% 0%"}),r.set(o.querySelectorAll(".caster"),{x:100,opacity:0}),r.set(o.querySelector(".casters-background"),{opacity:0}),r.set(o.querySelector(".title-background"),{opacity:0,x:-100}),r.set(o.querySelectorAll(".title > .icon, .title > .text"),{opacity:0,x:50})},castersLeave:(o,e)=>{const n=r.timeline({onComplete:e});n.addLabel("textOut").addLabel("lineOut","+=0.35"),n.to(o.querySelectorAll(".casters-line"),{duration:1,drawSVG:"0% 0%",ease:"power1.inOut"},"lineOut").to(o.querySelector(".casters-background"),{duration:.6,opacity:0,ease:"power2.in"},"textOut").to(o.querySelector(".title-background"),{duration:.6,opacity:0,x:-100,ease:"power2.in"},"textOut").to(o.querySelectorAll(".caster"),{x:100,opacity:0,duration:.65,ease:"power2.in",stagger:.1},"textOut").to(o.querySelectorAll(".title > .icon, .title > .text"),{x:50,opacity:0,duration:.65,ease:"power2.in",stagger:-.1},"textOut")}}}}),fe={key:0,class:"casters-wrapper"},Se=a("svg",{width:"397",height:"228",viewBox:"0 0 397 228",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"element-line-svg"},[a("path",{class:"casters-line",d:"M403.5 0.999939H5C2.79086 0.999939 1 2.7908 1 4.99994V40.6984C1 42.9076 2.79086 44.6984 5 44.6984H354.5C356.709 44.6984 358.5 46.4893 358.5 48.6984V223C358.5 225.209 356.709 227 354.5 227H5C2.79086 227 1 225.209 1 223V63.4029","stroke-linecap":"round",style:{fill:"none",stroke:"#5FBFF9","stroke-width":"4px"}}),a("path",{class:"casters-line",d:"M403.5 0.999939H5C2.79086 0.999939 1 2.7908 1 4.99994V40.6984C1 42.9076 2.79086 44.6984 5 44.6984H354.5C356.709 44.6984 358.5 46.4893 358.5 48.6984V223C358.5 225.209 356.709 227 354.5 227H5C2.79086 227 1 225.209 1 223V63.4029","stroke-linecap":"round",style:{fill:"none",stroke:"#fff","stroke-width":"2px"}})],-1),we={class:"title layout horiz c-vert"},_e={class:"text"},ve=a("div",{class:"background title-background"},null,-1),ge={class:"content layout vertical c-vert"},he=a("div",{class:"background casters-background"},null,-1);function xe(t,y,i,o,e,n){const s=p("font-awesome-icon"),u=p("fitted-content"),v=p("badge");return d(),w(B,{onEnter:t.castersEnter,onLeave:t.castersLeave,onBeforeEnter:t.beforeCastersEnter},{default:c(()=>[t.castersVisible?(d(),_("div",fe,[Se,a("div",we,[l(s,{icon:"microphone",class:"icon"}),a("span",_e,m(t.localeInfoStore.strings.main.castersTitle),1),ve]),a("div",ge,[he,(d(!0),_(I,null,M(t.casters,(b,g)=>(d(),_("div",{key:g,class:"caster"},[l(u,{class:"name","max-width":323},{default:c(()=>[f(m(b.name),1)]),_:2},1024),l(u,{"max-width":323,class:"extra"},{default:c(()=>[f(m(b.twitter)+" ",1),l(v,null,{default:c(()=>[f(m(b.pronouns),1)]),_:2},1024)]),_:2},1024)]))),128))])])):$("",!0)]),_:1},8,["onEnter","onLeave","onBeforeEnter"])}const qe=q(be,[["render",xe]]),ke=x({name:"MainGraphic",components:{Casters:qe,Scoreboard:me}});function Ce(t,y,i,o,e,n){const s=p("scoreboard"),u=p("casters");return d(),_(I,null,[l(s),l(u)],64)}const Ae=q(ke,[["render",Ce]]);r.registerPlugin(N);(async()=>{const t=T(Ae);t.use(z()),await h(te,H()),await h(X,F()),await h(K,L()),await h(Q,D()),t.mount("#app")})();
