import{g as p,D as Qe}from"./DrawSVGPlugin-B4QUZqwI.js";import{d as L,c as g,_ as R,l as E,a as d,b as v,e as u,f as y,g as _,h as I,i as M,t as S,D as Q,m as re,o as qe,n as Ze,w as ie,p as j,q as D,T as O,s as X,F as T,u as H,v as xe,x as N,r as J,y as Oe,z as ne,A as et,B as ce,C as le,E as z,G as ve,H as de,I as De,J as ke,K as Ee,j as tt,k as at}from"./_plugin-vue_export-helper-Dg3X6I8a.js";import{c as Y,g as nt,b as ot,I as st,P as ze,a as rt}from"./PixiPlugin-BKiUWPEw.js";import{S as Ne,u as K,B as ue,f as it,a as Z,c as ct,l as lt}from"./casterStore-BNmgcKSx.js";import{O as U,F as P}from"./FittedContent-DKRFXQqL.js";import{p as F,t as x,u as oe,S as dt}from"./SplitTextTransition-B1yhS_1i.js";import{u as W,a as ut}from"./activeRoundStore-NyoUqykV.js";import{u as ee,i as pt,c as mt}from"./index-D6amFYoy.js";import{D as se,u as pe,b as ht}from"./breakScreenStore-gMjrs9Ei.js";import{F as me,l as te}from"./index.es-DRRw5Fw1.js";import{u as ft,i as vt}from"./installCommonHelpers-Du_RM34V.js";import{a as ge,r as Ve,g as gt,i as He}from"./string-BeBbVoVE.js";import{h as _t}from"./obs-C6HihO26.js";import{p as wt}from"./path-BIbZRaIn.js";import{s as G}from"./storeHelper-Dip-Ut0B.js";import"./toNumber-Brt_E0mo.js";const yt=L({name:"BreakStagesScoreboard",components:{OpacitySwapTransition:U,FittedContent:P,ScoreCounter:Ne},setup(){const e=W();return F("stagesScoreboard",".stages-scoreboard",{enter:(r,s)=>{const n=p.timeline({onComplete:s,onStart:()=>{p.set(r,{opacity:1})}});return n.to(r,{duration:.5,width:1e3,ease:"power2.out"}),n},beforeEnter:r=>{p.set(r,{width:0,opacity:0})},leave:(r,s)=>{const n=p.timeline({onComplete:()=>{p.set(r,{opacity:0}),s&&s()}});return n.to(r,{duration:.5,width:0,ease:"power2.in"}),n}}),{teamA:g(()=>e.activeRound.teamA),teamB:g(()=>e.activeRound.teamB)}}}),bt={class:"stages-scoreboard layout horiz c-horiz glow-border glow-blue"},$t={class:"content"},St={class:"scores layout horiz c-vert"},Ct=u("div",null,null,-1);function kt(e,t,o,i,r,s){var c,h;const n=E("fitted-content"),a=E("opacity-swap-transition"),l=E("score-counter");return d(),v("div",bt,[u("div",$t,[y(a,null,{default:_(()=>{var f;return[(d(),I(n,{key:(f=e.teamA)==null?void 0:f.name,"max-width":410,align:"right"},{default:_(()=>{var B;return[M(S((B=e.teamA)==null?void 0:B.name),1)]}),_:1}))]}),_:1}),u("div",St,[y(l,{value:((c=e.teamA)==null?void 0:c.score)??0,"max-width":50},null,8,["value"]),Ct,y(l,{value:((h=e.teamB)==null?void 0:h.score)??0,"max-width":50},null,8,["value"])]),y(a,null,{default:_(()=>{var f;return[(d(),I(n,{key:(f=e.teamB)==null?void 0:f.name,"max-width":410},{default:_(()=>{var B;return[M(S((B=e.teamB)==null?void 0:B.name),1)]}),_:1}))]}),_:1})])])}const Et=R(yt,[["render",kt]]);class Ue{constructor(t,o,i){this.set(t,o,i)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(t,o,i){this.r=this.clamp(t),this.g=this.clamp(o),this.b=this.clamp(i)}hueRotate(t=0){t=t/180*Math.PI;const o=Math.sin(t),i=Math.cos(t);this.multiply([.213+i*.787-o*.213,.715-i*.715-o*.715,.072-i*.072+o*.928,.213-i*.213+o*.143,.715+i*.285+o*.14,.072-i*.072-o*.283,.213-i*.213-o*.787,.715-i*.715+o*.715,.072+i*.928+o*.072])}grayscale(t=1){this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])}sepia(t=1){this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}saturate(t=1){this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}multiply(t){const o=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),i=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),r=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=o,this.g=i,this.b=r}brightness(t=1){this.linear(t)}contrast(t=1){this.linear(t,-(.5*t)+.5)}linear(t=1,o=0){this.r=this.clamp(this.r*t+o*255),this.g=this.clamp(this.g*t+o*255),this.b=this.clamp(this.b*t+o*255)}invert(t=1){this.r=this.clamp((t+this.r/255*(1-2*t))*255),this.g=this.clamp((t+this.g/255*(1-2*t))*255),this.b=this.clamp((t+this.b/255*(1-2*t))*255)}hsl(){const t=this.r/255,o=this.g/255,i=this.b/255,r=Math.max(t,o,i),s=Math.min(t,o,i);let n,a,l=(r+s)/2;if(r===s)n=a=0;else{const c=r-s;switch(a=l>.5?c/(2-r-s):c/(r+s),r){case t:n=(o-i)/c+(o<i?6:0);break;case o:n=(i-t)/c+2;break;case i:n=(t-o)/c+4;break}n/=6}return{h:n*100,s:a*100,l:l*100}}clamp(t){return t>255?t=255:t<0&&(t=0),t}}class Be{constructor(t){this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new Ue(0,0,0)}solve(){const t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values)}}solveWide(){const i=[60,180,18e3,600,1.2,1.2];let r={loss:1/0,values:[]};for(let s=0;r.loss>25&&s<3;s++){const n=[50,20,3750,50,100,100],a=this.spsa(5,i,15,n,1e3);a.loss<r.loss&&(r=a)}return r}solveNarrow(t){const o=t.loss,i=2,r=o+1,s=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa(o,s,i,t.values,500)}spsa(t,o,i,r,s){const a=.16666666666666666;let l=null,c=1/0;const h=new Array(6),f=new Array(6),B=new Array(6);for(let k=0;k<s;k++){const $=i/Math.pow(k+1,a);for(let w=0;w<6;w++)h[w]=Math.random()>.5?1:-1,f[w]=r[w]+$*h[w],B[w]=r[w]-$*h[w];const m=this.loss(f)-this.loss(B);for(let w=0;w<6;w++){const A=m/(2*$)*h[w],q=o[w]/Math.pow(t+k+1,1);r[w]=b(r[w]-q*A,w)}const C=this.loss(r);C<c&&(l=r.slice(0),c=C)}return{values:l,loss:c};function b(k,$){let m=100;return $===2?m=7500:($===4||$===5)&&(m=200),$===3?k>m?k%=m:k<0&&(k=m+k%m):k<0?k=0:k>m&&(k=m),k}}loss(t){const o=this.reusedColor;o.set(0,0,0),o.invert(t[0]/100),o.sepia(t[1]/100),o.saturate(t[2]/100),o.hueRotate(t[3]*3.6),o.brightness(t[4]/100),o.contrast(t[5]/100);const i=o.hsl();return Math.abs(o.r-this.target.r)+Math.abs(o.g-this.target.g)+Math.abs(o.b-this.target.b)+Math.abs(i.h-this.targetHSL.h)+Math.abs(i.s-this.targetHSL.s)+Math.abs(i.l-this.targetHSL.l)}css(t){function o(i,r=1){return Math.round(t[i]*r)}return`invert(${o(0)}%) sepia(${o(1)}%) saturate(${o(2)}%) hue-rotate(${o(3,3.6)}deg) brightness(${o(4)}%) contrast(${o(5)}%)`}}function Ie(e){const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(i,r,s,n)=>r+r+s+s+n+n);const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?new Ue(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)):null}const Bt=nodecg.Replicant("assetPaths",Q),It=[Bt],_e=re("assetPaths",{state:()=>({assetPaths:null}),getters:{getStageImagePath:e=>t=>e.assetPaths.stageImages[t]??"/bundles/sj-overlays/assets/SJ_Unknown-Map-4.png"}}),Lt=L({name:"BreakStageDisplay",components:{OpacitySwapTransition:U,FittedContent:P},props:{game:{type:Object,required:!0},width:{type:Number,required:!0}},setup(e){const t=W(),o=K(),i=_e(),r=g(()=>{switch(e.game.winner){case"alpha":return Y.red;case"bravo":return Y.green;default:return Y.blue}});function s(n){return{dropShadowFilter:`drop-shadow(0 0 3px ${n}) drop-shadow(0 0 5px ${n})`,colorFilter:new Be(Ie(n)).solve().filter}}return qe(()=>{const n=Ze().vnode.el;ie(r,a=>{const l=s(a);p.to(n.querySelector(".stage-border-color"),{stroke:a,duration:.5}),p.to(n.querySelector("svg"),{filter:l.dropShadowFilter,duration:.5}),p.to(n.querySelector(".stage-line"),{border:`1px solid ${a}`,filter:l.dropShadowFilter,duration:.5}),p.to(n.querySelector(".mode-icon"),{filter:l.colorFilter,duration:.5})},{immediate:!0})}),{color:r,localizedStageName:g(()=>o.localeInfo.stages[e.game.stage]),localizedModeName:g(()=>o.localeInfo.modes[e.game.mode]),dropShadowFilter:g(()=>`drop-shadow(0 0 3px ${r.value}) drop-shadow(0 0 5px ${r.value})`),colorFilter:g(()=>new Be(Ie(r.value)).solve().filter),colors:Y,getIconFromMode:nt,getStageImagePath:i.getStageImagePath,stageImageFilter:g(()=>e.game.winner==="none"?"blur(0px) saturate(1)":"blur(2px) saturate(0.5)"),winnerName:g(()=>{switch(e.game.winner){case"alpha":return t.activeRound.teamA.name;case"bravo":return t.activeRound.teamB.name;default:return}}),stageUpdateBeforeEnter:n=>{const a=s(r.value);p.set(n.querySelector(".stage-line"),{border:`1px solid ${r.value}`,filter:a.dropShadowFilter}),p.set(n.querySelector(".mode-icon"),{filter:a.colorFilter}),p.set(n,{x:"-100%"})},stageUpdateEnter:(n,a)=>{p.to(n,{x:0,ease:"power2.out",onComplete:a})},stageUpdateLeave:(n,a)=>{p.to(n,{x:"100%",ease:"power2.in",onComplete:a})}}}}),Rt={class:"stage layout vertical c-horiz"},Mt=["viewBox"],At=["d"],Pt=["d"],Tt={class:"stage-content-wrapper"},qt={key:0,class:"stage-winner-wrapper layout horiz"},Ot={class:"stage-info layout vertical c-horiz"},Dt={class:"mode-icon layout horiz c-horiz c-vert"},zt=["src"],Nt={class:"stage-name-wrapper layout horiz c-vert"},Vt={class:"stage-name"};function Ht(e,t,o,i,r,s){const n=E("opacity-swap-transition"),a=E("fitted-content");return d(),v("div",Rt,[(d(),v("svg",{viewBox:`0 0 ${e.width+20} 620`},[u("path",{class:"stage-border stage-border-color stage-border_${index}",d:`M${(e.width+4)/2},2
                             L28,2
                             C13.471,2 2,15.542 2,32.222
                             L2,572
                             C2,588.458 13.471,602 27.6,602
                             L${e.width-24},602
                             C${e.width-10}.529,602 ${e.width+2},588.458 ${e.width+2},571.778
                             L${e.width+2},32
                             C${e.width+2},15.542 ${e.width-10}.529,2 ${e.width-24}.4,2
                             L${(e.width+4)/2},2`,style:{fill:"none",strokeWidth:"4px"}},null,8,At),u("path",{class:"stage-border stage-border-white stage-border_${index}",d:`M${(e.width+4)/2},2
                             L28,2
                             C13.471,2 2,15.542 2,32.222
                             L2,572
                             C2,588.458 13.471,602 27.6,602
                             L${e.width-24},602
                             C${e.width-10}.529,602 ${e.width+2},588.458 ${e.width+2},571.778
                             L${e.width+2},32
                             C${e.width+2},15.542 ${e.width-10}.529,2 ${e.width-24}.4,2
                             L${(e.width+4)/2},2`,style:{fill:"none",stroke:"#fff",strokeWidth:"2px"}},null,8,Pt)],8,Mt)),u("div",Tt,[y(O,{mode:"out-in",css:!1,onEnter:e.stageUpdateEnter,onLeave:e.stageUpdateLeave,onBeforeEnter:e.stageUpdateBeforeEnter},{default:_(()=>[(d(),v("div",{key:`${e.game.stage}_${e.game.mode}`,class:"stage-info-wrapper"},[u("div",{class:"stage-image",style:j({backgroundImage:`url('${e.getStageImagePath(e.game.stage)}')`,filter:e.stageImageFilter})},null,4),y(n,null,{default:_(()=>[e.game.winner!=="none"?(d(),v("div",qt,[y(n,null,{default:_(()=>[(d(),v("div",{key:e.winnerName,class:"winner-name"},S(e.winnerName),1))]),_:1})])):D("",!0)]),_:1}),u("div",{class:"stage-line",style:j({border:`1px solid ${e.color}`})},null,4),u("div",Ot,[u("div",Dt,[u("img",{src:e.getIconFromMode(e.game.mode)},null,8,zt)]),y(a,{"max-width":e.width-30,align:"center",class:"mode-name"},{default:_(()=>[M(S(e.localizedModeName),1)]),_:1},8,["max-width"]),u("div",Nt,[u("div",Vt,S(e.localizedStageName),1)])])]))]),_:1},8,["onEnter","onLeave","onBeforeEnter"])])])}const Ut=R(Lt,[["render",Ht]]),Le={3:{width:1100,gap:60,stageWidth:326},5:{width:1400,gap:30,stageWidth:256},7:{width:1750,gap:30,stageWidth:224}},jt=L({name:"BreakStages",components:{BreakStageDisplay:Ut,BreakStagesScoreboard:Et},setup(){const e={};X(x,e);const t=W(),o=g(()=>t.activeRound.games),i=c=>{p.set(c.querySelectorAll(".stage-info-wrapper"),{x:"-102%"}),p.set(c.querySelectorAll(".stage-border"),{drawSVG:"50% 50%"})},r=(c,h)=>{const f=p.timeline({onComplete:h});return f.addLabel("borderIn").addLabel("stagesIn","borderIn+=0.35"),f.to(c.querySelectorAll(".stage-border-white"),{duration:.75,drawSVG:!0,ease:"power2.inOut",stagger:.1},"borderIn").to(c.querySelectorAll(".stage-border-color"),{duration:.75,drawSVG:!0,ease:"power2.inOut",stagger:.1},"borderIn").to(c.querySelectorAll(".stage-info-wrapper"),{x:0,duration:.35,ease:"power2.out",stagger:.1},"stagesIn"),f},s=(c,h)=>{const f=p.timeline({onComplete:h});return f.addLabel("sceneOut").addLabel("borderOut","sceneOut+=0.25"),f.to(c.querySelectorAll(".stage-info-wrapper"),{x:"102%",duration:.35,ease:"power2.in",stagger:.1},"sceneOut").to(c.querySelectorAll(".stage-border-white"),{duration:.75,drawSVG:"50% 50%",ease:"power2.inOut",stagger:.1},"borderOut").to(c.querySelectorAll(".stage-border-color"),{duration:.75,drawSVG:"50% 50%",ease:"power2.inOut",stagger:.1},"borderOut"),f},n=c=>{e.stagesScoreboard.beforeEnter(c),i(c.querySelector(".stage-grid"))},a=(c,h)=>{const f=p.timeline({onComplete:h});return f.add(e.stagesScoreboard.enter(c),"sceneIn").add(r(c.querySelector(".stage-grid"),void 0),"sceneIn"),f},l=(c,h)=>{const f=p.timeline({onComplete:h});return f.add(e.stagesScoreboard.leave(c),"sceneOut").add(s(c.querySelector(".stage-grid"),void 0),"sceneOut"),f};return F("break",null,{beforeEnter:n,enter:a,leave:l}),{activeRound:g(()=>t.activeRound),games:o,styles:g(()=>{var c;return Le[(c=o.value)==null?void 0:c.length.toString()]??Le[3]}),beforeEnter:n,enter:a,leave:l,stagesBeforeEnter:i,stagesEnter:r,stagesLeave:s}}}),Ft={class:"stages-wrapper layout vertical c-horiz"};function Gt(e,t,o,i,r,s){const n=E("break-stages-scoreboard"),a=E("break-stage-display");return d(),v("div",Ft,[y(n),y(O,{mode:"out-in",css:!1,onEnter:e.stagesEnter,onLeave:e.stagesLeave,onBeforeEnter:e.stagesBeforeEnter},{default:_(()=>{var l;return[(d(),v("div",{key:e.activeRound.match.id,class:"stage-grid",style:j({width:`${e.styles.width}px`,gap:`${e.styles.gap}px`,gridTemplateColumns:`repeat(${((l=e.games)==null?void 0:l.length)??"3"}, 1fr)`})},[(d(!0),v(T,null,H(e.games,(c,h)=>(d(),I(a,{key:`${e.activeRound.match.id}_${h}`,game:c,width:e.styles.stageWidth},null,8,["game","width"]))),128))],4))]}),_:1},8,["onEnter","onLeave","onBeforeEnter"])])}const Wt=R(jt,[["render",Gt]]),Yt=nodecg.Replicant("predictionStore",Q),Jt=[Yt],we=re("prediction",{state:()=>({predictionStore:null})}),Kt=L({name:"BreakTeamsPredictionDisplay",components:{FittedContent:P},setup(){const e=we(),t=W();function o(b,k){var m,C;const $=(m=e.predictionStore.currentPrediction)==null?void 0:m.outcomes.findIndex(w=>w.title.toLowerCase()===(b==null?void 0:b.toLowerCase()));return(C=e.predictionStore.currentPrediction)==null?void 0:C.outcomes[$>=0?$:k]}const i=g(()=>o(t.activeRound.teamA.name,0)),r=g(()=>o(t.activeRound.teamB.name,1)),s=g(()=>{var b,k;return(((b=i.value)==null?void 0:b.pointsUsed)??0)+(((k=r.value)==null?void 0:k.pointsUsed)??0)}),n=g(()=>{var k;const b=(k=i.value)==null?void 0:k.pointsUsed;return b===0||!b?0:Math.round(b/s.value*100)}),a=g(()=>{var k;const b=(k=r.value)==null?void 0:k.pointsUsed;return b===0||!b?0:Math.round(b/s.value*100)}),l=oe(n),c=oe(a),h=b=>{p.set(b.querySelector(".prediction-box"),{width:0,opacity:0}),p.set(b.querySelector(".prediction-title"),{opacity:0})},f=(b,k,$=.5)=>{const m=p.timeline({delay:$,onComplete:k,onStart:()=>{p.set(b.querySelector(".prediction-box"),{opacity:1})}});return m.addLabel("predictionEnter"),m.to(b.querySelector(".prediction-title"),{duration:.5,opacity:1,ease:"power2.out"},"predictionEnter").to(b.querySelector(".prediction-box"),{duration:.65,width:1300,ease:"power2.out"},"predictionEnter"),m},B=(b,k)=>{const $=p.timeline({onComplete:k});return $.addLabel("predictionLeave"),$.to(b.querySelector(".prediction-box"),{duration:.65,width:0,ease:"power2.in"},"predictionLeave").to(b.querySelector(".prediction-title"),{duration:.5,opacity:0,ease:"power2.in"},"predictionLeave"),$};return F("predictions",".prediction-display",{beforeEnter:h,enter:f,leave:B}),{predictionsVisible:xe("predictionsVisible"),predictionTitle:g(()=>{var b;return(b=e.predictionStore.currentPrediction)==null?void 0:b.title}),firstOutcomePercentage:n,secondOutcomePercentage:a,firstOutcomePercentageTweened:l,secondOutcomePercentageTweened:c,percentageBackground:g(()=>n.value===0&&a.value===0?"unset":`linear-gradient(90deg, ${Y.red_a_20} 0%, ${Y.red_a_20} ${n.value}%, ${Y.green_a_40} ${n.value}%, ${Y.green_a_40} 100%)`),firstOutcomePointsUsedTweened:oe(g(()=>{var b;return((b=i.value)==null?void 0:b.pointsUsed)??0})),secondOutcomePointsUsedTweened:oe(g(()=>{var b;return((b=r.value)==null?void 0:b.pointsUsed)??0})),beforeEnter:h,enter:f,leave:B}}}),Xt={key:0,class:"prediction-display"},Qt={class:"prediction-wrapper layout vertical c-horiz"},Zt={class:"prediction-box glow-border glow-blue layout horiz c-horiz"},xt={class:"background-wrapper"},ea={class:"options layout horiz"},ta={class:"option alpha"},aa={class:"point-count"},na={class:"percentage"},oa={class:"option bravo"},sa={class:"point-count"},ra={class:"percentage"};function ia(e,t,o,i,r,s){const n=E("fitted-content");return d(),I(O,{mode:"out-in",css:!1,onEnter:e.enter,onLeave:e.leave,onBeforeEnter:e.beforeEnter},{default:_(()=>[e.predictionsVisible?(d(),v("div",Xt,[u("div",Qt,[y(n,{class:"prediction-title","max-width":1200,align:"center"},{default:_(()=>[M(S(e.predictionTitle),1)]),_:1}),u("div",Zt,[u("div",xt,[u("div",{class:"background first-outcome-background",style:j({width:`${e.firstOutcomePercentage}%`})},null,4),u("div",{class:"background second-outcome-background",style:j({width:`${e.secondOutcomePercentage}%`})},null,4)]),u("div",ea,[u("div",ta,[u("div",aa,S(e.firstOutcomePointsUsedTweened)+"p",1),u("div",na,S(e.firstOutcomePercentageTweened)+"%",1)]),u("div",oa,[u("div",sa,S(e.secondOutcomePointsUsedTweened)+"p",1),u("div",ra,S(e.secondOutcomePercentageTweened)+"%",1)])])])])])):D("",!0)]),_:1},8,["onEnter","onLeave","onBeforeEnter"])}const ca=R(Kt,[["render",ia]]),la=L({name:"BreakScreenTeam",components:{SplitTextTransition:dt,Badge:ue,FittedContent:P},props:{team:{type:String,required:!0}},setup(e){const t=W(),o=g(()=>e.team==="A"?t.activeRound.teamA:t.activeRound.teamB),i={};X(x,i);function r(a){p.set(a.querySelectorAll(".player"),{opacity:0,x:-350})}function s(a,l){return p.to(a.querySelectorAll(".player"),{duration:.35,opacity:1,x:0,ease:"power2.out",stagger:.1,onComplete:l})}function n(a,l){return p.to(a.querySelectorAll(".player"),{duration:.35,opacity:0,x:-350,stagger:.1,ease:"power2.in",onComplete:l})}return F(`team-${e.team.toLowerCase()}`,a=>a.classList.contains("team")?null:`.team.team-${e.team.toLowerCase()}`,{beforeEnter(a){i["team-name"].beforeEnter(a),r(a),p.set(a.querySelectorAll(".line.top, .line.mid"),{opacity:0,width:0}),p.set(a.querySelector(".content"),{height:0,opacity:0})},enter(a,l){const c=p.timeline({onComplete:l});return c.addLabel("teamsLineIn","+=0.35").addLabel("teamsTextIn","+=0.45"),c.to(a.querySelector(".content"),{duration:.1,opacity:1},"teamsIn").to(a.querySelector(".content"),{duration:.55,height:"calc(100% - 55px)",ease:"power2.out"},"teamsIn").to(a.querySelector(".line.top"),{duration:.55,width:375,opacity:1,ease:"power2.out"},"teamsLineIn").to(a.querySelector(".line.mid"),{duration:.55,width:600,opacity:1,ease:"power2.out"},"teamsLineIn").add(i["team-name"].enter(a),"teamsTextIn").add(s(a),"teamsTextIn"),c},leave(a,l){const c=p.timeline({onComplete:l});return c.addLabel("teamsTextOut").addLabel("teamsLineOut","+=0.4").addLabel("teamsOut","+=0.6"),c.add(n(a),"teamsTextOut").add(i["team-name"].leave(a),"teamsTextOut").to(a.querySelectorAll(".line.top, .line.mid"),{duration:.55,width:0,opacity:0,ease:"power2.in"},"teamsLineOut").to(a.querySelector(".content"),{duration:.55,height:0,ease:"power2.in"},"teamsOut").to(a.querySelector(".content"),{duration:.1,opacity:0,delay:.5},"teamsOut"),c}}),{teamData:o,players:g(()=>{var a;return(a=o.value)==null?void 0:a.players.slice(0,5)}),beforePlayersEnter:r,playersEnter:s,playersLeave:n}}}),da=u("div",{class:"line top"},null,-1),ua=u("div",{class:"line mid"},null,-1),pa={class:"team-name layout c-horiz c-vert"};function ma(e,t,o,i,r,s){var c;const n=E("split-text-transition"),a=E("badge"),l=E("fitted-content");return d(),v("div",{class:N(["team layout vertical c-horiz",`team-${e.team.toLowerCase()}`])},[da,ua,u("div",{class:N(["content glow-border",{"glow-red":e.team==="A","glow-green":e.team==="B"}])},[u("div",pa,[y(n,{"max-width":450,value:e.$helpers.addDots((c=e.teamData)==null?void 0:c.name),"transition-key":"team-name","transition-selector":".inner-team-name",class:"inner-team-name"},null,8,["value"])]),y(O,{mode:"out-in",css:!1,onEnter:e.playersEnter,onLeave:e.playersLeave,onBeforeEnter:e.beforePlayersEnter},{default:_(()=>{var h,f;return[(d(),v("div",{key:(h=e.teamData)==null?void 0:h.id,class:"players"},[(d(!0),v(T,null,H((f=e.teamData)==null?void 0:f.players,(B,b)=>(d(),I(l,{key:`player_${b}`,"max-width":450,class:N(["player",`team-${e.team.toLowerCase()}-player`])},{default:_(()=>[M(S(e.$helpers.addDots(B.name))+" ",1),e.$helpers.isBlank(B.pronouns)?D("",!0):(d(),I(a,{key:0},{default:_(()=>[M(S(e.$helpers.addDots(B.pronouns)),1)]),_:2},1024))]),_:2},1032,["class"]))),128))]))]}),_:1},8,["onEnter","onLeave","onBeforeEnter"])],2)],2)}const Re=R(la,[["render",ma]]);function Me(e,t){return t+1===e.length?0:t+1}function Ae(e){return e.enabled==null||e.enabled.value}function ye(e){const t=J(null),o=J(null),i=()=>{const l=ne(e);if(l.length===0)t.value=null,o.value=null;else if(l.every(c=>!Ae(c)))t.value=0,o.value=l[t.value].component;else{t.value=t.value==null?0:Me(l,t.value);let c=l[t.value];for(;!Ae(c);)t.value=Me(l,t.value),c=l[t.value];o.value=c.component}};let r=null;const s=()=>{const c=ne(e)[t.value];r=window.setTimeout(()=>{i(),s()},((c==null?void 0:c.duration)??30)*1e3)};let n=!1;const a=l=>{const c=ne(e),h=c.findIndex(B=>B.component===l);if(h===-1){console.error(`Could not find slide ${l}`);return}const f=c[h];clearTimeout(r),n=!0,t.value=h,o.value=f.component,s()};return i(),s(),Oe(()=>{clearTimeout(r)}),ie(()=>{var l,c;return(c=(l=ne(e)[t.value])==null?void 0:l.enabled)==null?void 0:c.value},l=>{l===!1&&!n?(clearTimeout(r),i(),s()):n=!1}),{activeComponent:o,forceSetSlide:a}}const ha=e=>(ce("data-v-99804a72"),e=e(),le(),e),fa={class:"team-results-wrapper"},va=["data-result-index"],ga={class:"content-wrapper"},_a={key:0,class:"detailed-results"},wa={class:"team-a-score"},ya=ha(()=>u("span",{class:"score-separator"},"-",-1)),ba={class:"team-b-score"},$a=L({__name:"TeamResultsDisplay",props:{team:{}},setup(e){const t=e,o=se.now().year,i=ee(),r=g(()=>t.team==="A"?i.centralTeamMapping.teamA:i.centralTeamMapping.teamB),s=g(()=>{var m;return(((m=t.team==="A"?i.centralTeamMatchups.teamA:i.centralTeamMatchups.teamB)==null?void 0:m.tournaments)??[]).map(C=>({...C,year:l(C),stageResults:c(C.stages),matches:C.stages.flatMap(w=>w.matches.map(A=>r.value.includes(A.alpha_id)?A:{...A,alpha_name:A.bravo_name,alpha_id:A.bravo_id,alpha_win:A.bravo_win,bravo_name:A.alpha_name,bravo_id:A.alpha_id,bravo_win:A.alpha_win})).slice(0,10)})).slice(0,5)}),n=ye(()=>s.value.length===1?[{component:"result-0"}]:[{component:"summary",duration:20},...s.value.map((m,C)=>({component:`result-${C}`,duration:C===0?11:10}))]),a=g(()=>{if(n.activeComponent.value==="summary")return s.value;{const m=Number(n.activeComponent.value.split("-")[1]);return[s.value[m]]}});function l(m){const C=se.fromISO(m.start_time).year;return C===o||m.name.includes(String(C))?null:String(C)}function c(m){return m.reduce((C,w,A)=>{const q=w.team_placements.find(Xe=>r.value.includes(Xe.team_id));return C+=`#${(q==null?void 0:q.placement)??"?"} of ${w.no_teams} in ${w.name}`,A!==m.length-1&&(C+=", "),C},"")}F(`team-${t.team==="A"?"b":"a"}`,m=>m.classList.contains("team-results")?null:`.team-results.team-${t.team.toLowerCase()}`,{beforeEnter(m){p.set(m.querySelectorAll(".result"),{width:"0%",opacity:0}),p.set(m.querySelectorAll(".result-wrapper"),{height:"20%"})},enter(m,C){const w=p.timeline({onComplete:C});return w.addLabel("enter"),w.to(m.querySelectorAll(".result"),{opacity:1,duration:.1,stagger:.1},"enter").to(m.querySelectorAll(".result"),{duration:.5,width:"100%",stagger:.1,ease:"power2.out",delay:.05},"enter"),w},leave(m,C){const w=p.timeline({onComplete:C});return w.addLabel("leave"),w.to(m.querySelectorAll(".result"),{width:"0%",duration:.5,stagger:.1,ease:"power2.in"},"leave").to(m.querySelectorAll(".result"),{opacity:0,duration:.1,stagger:.1,delay:.45},"leave"),w}});function h(m,C){const w=p.timeline({onComplete:C,delay:.1*Number(m.dataset.resultIndex)}),A=a.value.length===1;A&&w.to(m.querySelector(".detailed-results"),{height:0,duration:.75,ease:"power3.inOut",delay:.1}),w.addLabel("leave",A?"+=0.1":void 0),w.to(m.querySelector(".result"),{width:"0%",duration:.5,ease:"power2.in"},"leave").to(m.querySelector(".result"),{opacity:0,duration:.1,delay:.45},"leave").to(m,{height:"0%",duration:.75,ease:"power3.inOut",delay:A?(s.value.length-1-Number(m.dataset.resultIndex))*.1:0})}function f(m,C){const w=a.value.length===1,A=p.timeline({onComplete:C,delay:(w?.2:0)+.1*Number(m.dataset.resultIndex)}),q=w?0:(s.value.length-1-Number(m.dataset.resultIndex))*.1;A.addLabel("enter",`+=${w?.35:.75}`),A.to(m,{height:"20%",duration:w?.55:.75,ease:"power3.inOut",delay:q}).to(m.querySelector(".result"),{opacity:1,duration:.1},"enter").to(m.querySelector(".result"),{width:"100%",duration:.5,delay:.05,ease:"power2.out"},"enter"),w&&A.to(m.querySelector(".detailed-results"),{height:"auto",duration:.75,ease:"power3.inOut"},`enter+=${.9+s.value.length*.1}`)}function B(m){a.value.length===1&&p.set(m.querySelector(".detailed-results"),{height:0}),p.set(m.querySelector(".result"),{opacity:0,width:"0%"}),p.set(m,{height:"0%"})}function b(m,C){p.timeline({onComplete:C,delay:Math.max(0,s.value.length-2)*.1}).to(m,{height:0,duration:.75,ease:"power3.inOut"})}function k(m,C){p.timeline({onComplete:C,delay:1.4+s.value.length*.1}).to(m,{height:"auto",duration:.75,ease:"power3.inOut"})}function $(m){p.set(m,{height:0})}return(m,C)=>(d(),v("div",fa,[y(et,{name:"team-results-list",tag:"div",class:N(["team-results",`team-${t.team.toLowerCase()}`]),onEnter:f,onLeave:h,onBeforeEnter:B},{default:_(()=>[(d(!0),v(T,null,H(a.value,(w,A)=>(d(),v("div",{key:`result_${w.id}`,class:"result-wrapper","data-result-index":A},[u("div",{class:N(["result glow-border",t.team==="A"?"glow-red":"glow-green"])},[u("div",ga,[y(P,{class:"tournament-name"},{default:_(()=>[M(S(w.name)+" ",1),w.year!=null?(d(),v(T,{key:0},[M(" ("+S(w.year)+") ",1)],64)):D("",!0)]),_:2},1024),y(P,{class:"stage-result"},{default:_(()=>[M(S(w.stageResults),1)]),_:2},1024),y(O,{css:!1,onEnter:k,onLeave:b,onBeforeEnter:$},{default:_(()=>[a.value.length===1?(d(),v("div",_a,[(d(!0),v(T,null,H(w.matches,q=>(d(),I(P,{key:`match_${q.id}`,class:N(["result-match",{"a-win":q.alpha_win>q.bravo_win,"b-win":q.bravo_win>q.alpha_win}])},{default:_(()=>[u("span",wa,S(q.alpha_win),1),ya,u("span",ba,S(q.bravo_win),1),M(" vs "+S(m.$helpers.addDots(q.bravo_name)),1)]),_:2},1032,["class"]))),128))])):D("",!0)]),_:2},1024)])],2)],8,va))),128))]),_:1},8,["class"])]))}}),Pe=R($a,[["__scopeId","data-v-99804a72"]]),Sa={class:"team-display"},Ca={class:"versus-wrapper layout horiz c-vert"},ka={key:0,class:"versus"},Ea=L({__name:"TeamRostersSubscene",setup(e){const t=ee(),o={};X(x,o),F("break-teams",null,{beforeEnter($){o["team-a"].beforeEnter($),o["team-b"].beforeEnter($),i($.querySelector(".versus"))},enter($,m){const C=p.timeline({onComplete:m});return C.addLabel("teamsIn"),C.add(r($.querySelector(".teams-wrapper .versus")),"teamsIn").add(o["team-a"].enter($),"teamsIn").add(o["team-b"].enter($),"teamsIn"),C},leave($,m){const C=p.timeline({onComplete:m});return C.addLabel("teamsOut","+=0.6"),C.add(o["team-a"].leave($),"sceneOut").add(o["team-b"].leave($),"sceneOut").add(s($.querySelector(".teams-wrapper .versus")),"teamsOut"),C}});const i=$=>{p.set($,{y:200})},r=($,m)=>p.to($,{duration:.4,y:0,ease:"power1.out",delay:.5,onComplete:m}),s=($,m)=>p.to($,{duration:.4,y:200,ease:"power1.in",delay:.15,onComplete:m}),n=$=>m=>{o[`team-${$}`].beforeEnter(m)},a=$=>(m,C)=>{p.timeline({onComplete:C}).add(o[`team-${$}`].enter(m))},l=$=>(m,C)=>{p.timeline({onComplete:C}).add(o[`team-${$}`].leave(m))},c=n("a"),h=a("a"),f=l("a"),B=n("b"),b=a("b"),k=l("b");return($,m)=>(d(),v("div",Sa,[y(O,{mode:"out-in",css:!1,onEnter:z(h),onLeave:z(f),onBeforeEnter:z(c)},{default:_(()=>[z(t).centralDisplaySettings.displayMode==="teamBResults"?(d(),I(Pe,{key:0,team:"B"})):(d(),I(Re,{key:1,team:"A",class:"team-a-display"}))]),_:1},8,["onEnter","onLeave","onBeforeEnter"]),u("div",Ca,[y(O,{css:!1,onEnter:r,onLeave:s,onBeforeEnter:i},{default:_(()=>[z(t).centralDisplaySettings.displayMode==="teams"?(d(),v("div",ka," VS ")):D("",!0)]),_:1})]),y(O,{mode:"out-in",css:!1,onEnter:z(b),onLeave:z(k),onBeforeEnter:z(B)},{default:_(()=>[z(t).centralDisplaySettings.displayMode==="teamAResults"?(d(),I(Pe,{key:0,team:"A"})):(d(),I(Re,{key:1,team:"B",class:"team-b-display"}))]),_:1},8,["onEnter","onLeave","onBeforeEnter"])]))}}),Ba=R(Ea,[["__scopeId","data-v-52337298"]]),Ia=e=>(ce("data-v-d1c68584"),e=e(),le(),e),La={class:"head-to-head-wrapper layout vertical c-horiz"},Ra={class:"team-a-name"},Ma={class:"team-b-name"},Aa={class:"content-wrapper"},Pa={class:"team-a-score"},Ta=Ia(()=>u("span",{class:"score-separator"},"-",-1)),qa={class:"team-b-score"},Oa={class:"stage-name"},fe=7,Da=L({__name:"HeadToHeadSubscene",setup(e){const t=W(),o=ee(),i=se.now().year,r=g(()=>{var l;const s=((l=o.centralTeamMatchups.headToHead)==null?void 0:l.tournaments)??[],n=[];let a=0;for(let c=0;c<s.length&&!(a>=fe-1);c++){a++;const h=[];for(let f=0;f<s[c].stages.length&&!(a>=fe);f++){const B=[];for(let b=0;b<s[c].stages[f].matches.length&&!(a>=fe);b++)B.push(s[c].stages[f].matches[b]),a++;h.push({...s[c].stages[f],matches:B})}n.push({...s[c],stages:h})}return n.map(c=>{let h=0,f=0;for(let b=0;b<c.stages.length;b++)for(let k=0;k<c.stages[b].matches.length;k++){const $=c.stages[b].matches[k],m=o.centralTeamMapping.teamA.includes($.bravo_id),C=m?$.bravo_win:$.alpha_win,w=m?$.alpha_win:$.bravo_win;C>w?h++:w>C&&f++}let B="blue";return h>f?B="red":f>h&&(B="green"),{...c,year:se.fromISO(c.start_time).year,color:B,stages:c.stages.map(b=>({...b,matches:b.matches.map(k=>o.centralTeamMapping.teamA.includes(k.alpha_id)?k:{...k,alpha_id:k.bravo_id,alpha_name:k.bravo_name,alpha_win:k.bravo_win,bravo_id:k.alpha_id,bravo_name:k.alpha_name,bravo_win:k.alpha_win})}))}})});return F("break-teams",null,{beforeEnter(s){p.set(s.querySelector(".title"),{opacity:0}),p.set(s.querySelectorAll(".tournament-result"),{opacity:0,width:0})},enter(s,n){const a=p.timeline({onComplete:n});return a.addLabel("enter"),a.to(s.querySelector(".title"),{opacity:1,duration:.35},"enter").to(s.querySelectorAll(".tournament-result"),{opacity:1,duration:.1,stagger:.1},"enter").to(s.querySelectorAll(".tournament-result"),{width:"auto",duration:.55,ease:"power2.out",stagger:.1},"enter"),a},leave(s,n){const a=p.timeline({onComplete:n});return a.addLabel("leave"),a.to(s.querySelector(".title"),{opacity:0,duration:.35},"leave").to(s.querySelectorAll(".tournament-result"),{duration:.55,width:0,ease:"power2.in",stagger:.1},"leave").to(s.querySelectorAll(".tournament-result"),{opacity:0,delay:.5,duration:.1,stagger:.1},"leave"),a}}),(s,n)=>(d(),v("div",La,[y(P,{class:"title",align:"center","max-width":1200},{default:_(()=>[u("span",Ra,S(s.$helpers.addDots(z(t).activeRound.teamA.name)),1),M(" vs "),u("span",Ma,S(s.$helpers.addDots(z(t).activeRound.teamB.name)),1)]),_:1}),(d(!0),v(T,null,H(r.value,(a,l)=>(d(),v("div",{key:`tournament-result_${l}`,class:N(["tournament-result glow-border",`glow-${a.color}`])},[u("div",Aa,[y(P,{class:"tournament-name",align:"center"},{default:_(()=>[M(S(a.name)+" ",1),a.year!==z(i)&&!a.name.includes(String(a.year))?(d(),v(T,{key:0},[M(" ("+S(a.year)+") ",1)],64)):D("",!0)]),_:2},1024),(d(!0),v(T,null,H(a.stages,c=>(d(),v(T,null,[(d(!0),v(T,null,H(c.matches,(h,f)=>(d(),I(P,{key:`result_${f}`,class:"result",align:"center"},{default:_(()=>[u("span",Pa,S(h.alpha_win),1),Ta,u("span",qa,S(h.bravo_win),1),M(" in "),u("span",Oa,S(c.name),1)]),_:2},1024))),128))],64))),256))])],2))),128))]))}}),za=R(Da,[["__scopeId","data-v-d1c68584"]]),Na=L({name:"BreakTeams",components:{HeadToHeadSubscene:za,TeamRostersSubscene:Ba,BreakTeamsPredictionDisplay:ca},setup(){const e=ee(),t=g(()=>e.centralDisplaySettings.displayMode),o=we(),i=g(()=>{var h;return((h=o.predictionStore.currentPrediction)==null?void 0:h.status)==="ACTIVE"}),r=J(!1),s=g(()=>i.value||r.value);nodecg.listenFor("showPredictionData",Q,()=>{r.value=!0,setTimeout(()=>{r.value=!1},20*1e3)});const n={};X(x,n),X("predictionsVisible",s);const a=h=>{n["break-teams"].beforeEnter(h),s.value&&n.predictions.beforeEnter(h)},l=(h,f)=>{const B=p.timeline({onComplete:f});return B.addLabel("teamsIn").addLabel("sceneIn"),s.value&&B.add(n.predictions.enter(h,0),"teamsIn"),B.add(n["break-teams"].enter(h,f)),B},c=(h,f)=>{const B=p.timeline({onComplete:f});return B.addLabel("sceneOut").addLabel("transitionsOut","+=0.5"),B.add(n["break-teams"].leave(h,f)),s.value&&B.add(n.predictions.leave(h),"transitionsOut"),B};return F("break",null,{beforeEnter:a,enter:l,leave:c}),{teamDisplayHeight:g(()=>s.value?"525px":"638px"),teamDisplayTransform:g(()=>s.value?"translateY(0px)":"translateY(25px)"),predictionsVisible:s,beforeEnter:a,enter:l,leave:c,beforeSubsceneEnter:h=>{n["break-teams"].beforeEnter(h)},subsceneEnter:(h,f)=>{p.timeline({onComplete:f}).add(n["break-teams"].enter(h))},subsceneLeave:(h,f)=>{p.timeline({onComplete:f}).add(n["break-teams"].leave(h))},centralTeamDisplayMode:t}}}),Va={class:"teams-wrapper w-max layout vertical c-horiz"};function Ha(e,t,o,i,r,s){const n=E("head-to-head-subscene"),a=E("team-rosters-subscene"),l=E("break-teams-prediction-display");return d(),v("div",Va,[u("div",{class:N(["break-teams-content",{"predictions-hidden":!e.predictionsVisible}]),style:j({height:e.teamDisplayHeight,transform:e.teamDisplayTransform})},[y(O,{mode:"out-in",css:!1,onEnter:e.subsceneEnter,onLeave:e.subsceneLeave,onBeforeEnter:e.beforeSubsceneEnter},{default:_(()=>[e.centralTeamDisplayMode==="headToHead"?(d(),I(n,{key:0})):(d(),I(a,{key:1}))]),_:1},8,["onEnter","onLeave","onBeforeEnter"])],6),y(l)])}const Ua=R(Na,[["render",Ha]]);var be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",o="music",i=512,r=512,s=[127925],n="f001",a="M511.1 367.1c0 44.18-42.98 80-95.1 80s-95.1-35.82-95.1-79.1c0-44.18 42.98-79.1 95.1-79.1c11.28 0 21.95 1.92 32.01 4.898V148.1L192 224l-.0023 208.1C191.1 476.2 149 512 95.1 512S0 476.2 0 432c0-44.18 42.98-79.1 95.1-79.1c11.28 0 21.95 1.92 32 4.898V126.5c0-12.97 10.06-26.63 22.41-30.52l319.1-94.49C472.1 .6615 477.3 0 480 0c17.66 0 31.97 14.34 32 31.99L511.1 367.1z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faMusic=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(be);var $e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",o="hourglass-end",i=384,r=512,s=[8987,"hourglass-3"],n="f253",a="M352 0C369.7 0 384 14.33 384 32C384 49.67 369.7 64 352 64V74.98C352 117.4 335.1 158.1 305.1 188.1L237.3 256L305.1 323.9C335.1 353.9 352 394.6 352 437V448C369.7 448 384 462.3 384 480C384 497.7 369.7 512 352 512H32C14.33 512 0 497.7 0 480C0 462.3 14.33 448 32 448V437C32 394.6 48.86 353.9 78.86 323.9L146.7 256L78.86 188.1C48.86 158.1 32 117.4 32 74.98V64C14.33 64 0 49.67 0 32C0 14.33 14.33 0 32 0H352zM124.1 142.9L192 210.7L259.9 142.9C277.9 124.9 288 100.4 288 74.98V64H96V74.98C96 100.4 106.1 124.9 124.1 142.9z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faHourglassEnd=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})($e);const ja=L({name:"SlideTransition",setup(){return{beforeEnter:e=>{p.set(e,{x:-15,opacity:0})},enter:(e,t)=>{p.to(e,{opacity:1,x:0,ease:"power2.out",onComplete:t,duration:.35})},leave:(e,t)=>{p.to(e,{opacity:0,x:15,ease:"power2.in",onComplete:t,duration:.35})}}}});function Fa(e,t,o,i,r,s){return d(),I(O,{name:"slide",mode:"out-in",css:!1,onEnter:e.enter,onLeave:e.leave,onBeforeEnter:e.beforeEnter},{default:_(()=>[ve(e.$slots,"default")]),_:3},8,["onEnter","onLeave","onBeforeEnter"])}const Se=R(ja,[["render",Fa]]),Ga=L({name:"MainSlideRow",components:{SlideTransition:Se,FittedContent:P,FontAwesomeIcon:me},props:{icon:{type:[String,Array],required:!0},isCustomIcon:{type:Boolean,default:!1},firstRow:{type:String,default:null},secondRow:{type:String,default:null},isVisible:{type:Boolean,default:!0}},setup(e){return{beforeEnter:t=>{p.set(t,{opacity:0,height:0,margin:"0 0"})},enter:(t,o)=>{p.to(t,{duration:.5,opacity:1,height:e.secondRow?90:54,margin:"8px 0",ease:"power2.inOut",onComplete:o})},leave:(t,o)=>{p.to(t,{duration:.5,opacity:0,height:0,margin:"0 0",ease:"power2.inOut",onComplete:o})}}}}),Wa={class:"layout vertical"};function Ya(e,t,o,i,r,s){const n=E("font-awesome-icon"),a=E("fitted-content"),l=E("slide-transition");return d(),I(O,{mode:"out-in",css:!1,onEnter:e.enter,onLeave:e.leave,onBeforeEnter:e.beforeEnter},{default:_(()=>[e.isVisible?(d(),v("div",{key:0,class:N(["main-slide-row layout horiz c-vert",{"has-second-row":!!e.secondRow}])},[e.isCustomIcon?(d(),v("i",{key:0,class:N(["icon",e.icon])},null,2)):(d(),I(n,{key:1,icon:e.icon,class:"icon"},null,8,["icon"])),u("div",Wa,[y(l,null,{default:_(()=>[(d(),I(a,{key:e.firstRow,"max-width":830},{default:_(()=>[ve(e.$slots,"default",{},()=>[M(S(e.firstRow),1)])]),_:3}))]),_:3}),y(l,null,{default:_(()=>[e.secondRow!=null?(d(),I(a,{key:e.secondRow,"max-width":830},{default:_(()=>[ve(e.$slots,"second-row",{},()=>[M(S(e.secondRow),1)])]),_:3})):D("",!0)]),_:3})])],2)):D("",!0)]),_:3},8,["onEnter","onLeave","onBeforeEnter"])}const je=R(Ga,[["render",Ya]]),Ja=nodecg.Replicant("nowPlaying",Q),Ka=nodecg.Replicant("musicShown",Q),Xa=[Ja,Ka],he=re("music",{state:()=>({nowPlaying:{},musicShown:null})});te.add(be.faMusic,$e.faHourglassEnd);const Qa=L({name:"MainSlideGeneralInfo",components:{SlideTransition:Se,MainSlideRow:je,FittedContent:P},setup(){const e=pe(),t=he(),o=ft(),i=K(),{strings:r}=de(i);return{strings:r,nowPlaying:g(()=>t.nowPlaying),musicShown:g(()=>t.musicShown),nextRoundStartDiffNow:o,nextRoundTimeVisible:g(()=>e.nextRoundStartTime.isVisible),mainFlavorText:g(()=>e.mainFlavorText)}}}),Za={class:"slide main layout vertical c-vert"},xa=u("div",{class:"separator"},null,-1),en=["innerHTML"];function tn(e,t,o,i,r,s){const n=E("fitted-content"),a=E("slide-transition"),l=E("main-slide-row");return d(),v("div",Za,[y(a,null,{default:_(()=>[(d(),I(n,{key:e.mainFlavorText,class:"title","max-width":900},{default:_(()=>[M(S(e.mainFlavorText),1)]),_:1}))]),_:1}),xa,y(l,{icon:"music","show-second-row":"","is-visible":e.musicShown,"first-row":e.nowPlaying.artist??"Unknown Artist","second-row":e.nowPlaying.song??"Unknown Song"},null,8,["is-visible","first-row","second-row"]),y(l,{icon:"hourglass-end","is-visible":e.nextRoundTimeVisible},{default:_(()=>[u("span",{innerHTML:e.strings.break.main.general.steamResumes(e.nextRoundStartDiffNow)},null,8,en)]),_:1},8,["is-visible"])])}const an=R(Qa,[["render",tn]]);var Ce={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fab",o="twitter",i=512,r=512,s=[],n="f099",a="M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faTwitter=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Ce);var Fe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fab",o="patreon",i=512,r=512,s=[],n="f3d9",a="M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faPatreon=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Fe);var Ge={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",o="globe",i=512,r=512,s=[127760],n="f0ac",a="M352 256C352 278.2 350.8 299.6 348.7 320H163.3C161.2 299.6 159.1 278.2 159.1 256C159.1 233.8 161.2 212.4 163.3 192H348.7C350.8 212.4 352 233.8 352 256zM503.9 192C509.2 212.5 512 233.9 512 256C512 278.1 509.2 299.5 503.9 320H380.8C382.9 299.4 384 277.1 384 256C384 234 382.9 212.6 380.8 192H503.9zM493.4 160H376.7C366.7 96.14 346.9 42.62 321.4 8.442C399.8 29.09 463.4 85.94 493.4 160zM344.3 160H167.7C173.8 123.6 183.2 91.38 194.7 65.35C205.2 41.74 216.9 24.61 228.2 13.81C239.4 3.178 248.7 0 256 0C263.3 0 272.6 3.178 283.8 13.81C295.1 24.61 306.8 41.74 317.3 65.35C328.8 91.38 338.2 123.6 344.3 160H344.3zM18.61 160C48.59 85.94 112.2 29.09 190.6 8.442C165.1 42.62 145.3 96.14 135.3 160H18.61zM131.2 192C129.1 212.6 127.1 234 127.1 256C127.1 277.1 129.1 299.4 131.2 320H8.065C2.8 299.5 0 278.1 0 256C0 233.9 2.8 212.5 8.065 192H131.2zM194.7 446.6C183.2 420.6 173.8 388.4 167.7 352H344.3C338.2 388.4 328.8 420.6 317.3 446.6C306.8 470.3 295.1 487.4 283.8 498.2C272.6 508.8 263.3 512 255.1 512C248.7 512 239.4 508.8 228.2 498.2C216.9 487.4 205.2 470.3 194.7 446.6H194.7zM190.6 503.6C112.2 482.9 48.59 426.1 18.61 352H135.3C145.3 415.9 165.1 469.4 190.6 503.6V503.6zM321.4 503.6C346.9 469.4 366.7 415.9 376.7 352H493.4C463.4 426.1 399.8 482.9 321.4 503.6V503.6z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faGlobe=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Ge);var We={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fab",o="discord",i=640,r=512,s=[],n="f392",a="M524.5 69.84a1.5 1.5 0 0 0 -.764-.7A485.1 485.1 0 0 0 404.1 32.03a1.816 1.816 0 0 0 -1.923 .91 337.5 337.5 0 0 0 -14.9 30.6 447.8 447.8 0 0 0 -134.4 0 309.5 309.5 0 0 0 -15.14-30.6 1.89 1.89 0 0 0 -1.924-.91A483.7 483.7 0 0 0 116.1 69.14a1.712 1.712 0 0 0 -.788 .676C39.07 183.7 18.19 294.7 28.43 404.4a2.016 2.016 0 0 0 .765 1.375A487.7 487.7 0 0 0 176 479.9a1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.1 430.4a1.86 1.86 0 0 0 -1.019-2.588 321.2 321.2 0 0 1 -45.87-21.85 1.885 1.885 0 0 1 -.185-3.126c3.082-2.309 6.166-4.711 9.109-7.137a1.819 1.819 0 0 1 1.9-.256c96.23 43.92 200.4 43.92 295.5 0a1.812 1.812 0 0 1 1.924 .233c2.944 2.426 6.027 4.851 9.132 7.16a1.884 1.884 0 0 1 -.162 3.126 301.4 301.4 0 0 1 -45.89 21.83 1.875 1.875 0 0 0 -1 2.611 391.1 391.1 0 0 0 30.01 48.81 1.864 1.864 0 0 0 2.063 .7A486 486 0 0 0 610.7 405.7a1.882 1.882 0 0 0 .765-1.352C623.7 277.6 590.9 167.5 524.5 69.84zM222.5 337.6c-28.97 0-52.84-26.59-52.84-59.24S193.1 219.1 222.5 219.1c29.67 0 53.31 26.82 52.84 59.24C275.3 310.1 251.9 337.6 222.5 337.6zm195.4 0c-28.97 0-52.84-26.59-52.84-59.24S388.4 219.1 417.9 219.1c29.67 0 53.31 26.82 52.84 59.24C470.7 310.1 447.5 337.6 417.9 337.6z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faDiscord=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(We);var Ye={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",o="dollar-sign",i=320,r=512,s=[128178,61781,"dollar","usd"],n="24",a="M160 0C177.7 0 192 14.33 192 32V67.68C193.6 67.89 195.1 68.12 196.7 68.35C207.3 69.93 238.9 75.02 251.9 78.31C268.1 82.65 279.4 100.1 275 117.2C270.7 134.3 253.3 144.7 236.1 140.4C226.8 137.1 198.5 133.3 187.3 131.7C155.2 126.9 127.7 129.3 108.8 136.5C90.52 143.5 82.93 153.4 80.92 164.5C78.98 175.2 80.45 181.3 82.21 185.1C84.1 189.1 87.79 193.6 95.14 198.5C111.4 209.2 136.2 216.4 168.4 225.1L171.2 225.9C199.6 233.6 234.4 243.1 260.2 260.2C274.3 269.6 287.6 282.3 295.8 299.9C304.1 317.7 305.9 337.7 302.1 358.1C295.1 397 268.1 422.4 236.4 435.6C222.8 441.2 207.8 444.8 192 446.6V480C192 497.7 177.7 512 160 512C142.3 512 128 497.7 128 480V445.1C127.6 445.1 127.1 444.1 126.7 444.9L126.5 444.9C102.2 441.1 62.07 430.6 35 418.6C18.85 411.4 11.58 392.5 18.76 376.3C25.94 360.2 44.85 352.9 60.1 360.1C81.9 369.4 116.3 378.5 136.2 381.6C168.2 386.4 194.5 383.6 212.3 376.4C229.2 369.5 236.9 359.5 239.1 347.5C241 336.8 239.6 330.7 237.8 326.9C235.9 322.9 232.2 318.4 224.9 313.5C208.6 302.8 183.8 295.6 151.6 286.9L148.8 286.1C120.4 278.4 85.58 268.9 59.76 251.8C45.65 242.4 32.43 229.7 24.22 212.1C15.89 194.3 14.08 174.3 17.95 153C25.03 114.1 53.05 89.29 85.96 76.73C98.98 71.76 113.1 68.49 128 66.73V32C128 14.33 142.3 0 160 0V0z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faDollarSign=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Ye);var Je={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fab",o="youtube",i=576,r=512,s=[61802],n="f167",a="M549.7 124.1c-6.281-23.65-24.79-42.28-48.28-48.6C458.8 64 288 64 288 64S117.2 64 74.63 75.49c-23.5 6.322-42 24.95-48.28 48.6-11.41 42.87-11.41 132.3-11.41 132.3s0 89.44 11.41 132.3c6.281 23.65 24.79 41.5 48.28 47.82C117.2 448 288 448 288 448s170.8 0 213.4-11.49c23.5-6.321 42-24.17 48.28-47.82 11.41-42.87 11.41-132.3 11.41-132.3s0-89.44-11.41-132.3zm-317.5 213.5V175.2l142.7 81.21-142.7 81.2z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faYoutube=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Je);var Ke={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fab",o="twitch",i=512,r=512,s=[],n="f1e8",a="M391.2 103.5H352.5v109.7h38.63zM285 103H246.4V212.8H285zM120.8 0 24.31 91.42V420.6H140.1V512l96.53-91.42h77.25L487.7 256V0zM449.1 237.8l-77.22 73.12H294.6l-67.6 64v-64H140.1V36.58H449.1z";e.definition={prefix:t,iconName:o,icon:[i,r,s,n,a]},e.faTwitch=e.definition,e.prefix=t,e.iconName=o,e.width=i,e.height=r,e.ligatures=s,e.unicode=n,e.svgPathData=a,e.aliases=s})(Ke);te.add(Ce.faTwitter,Fe.faPatreon,Ge.faGlobe,We.faDiscord,Ye.faDollarSign,Je.faYoutube,Ke.faTwitch);const nn=L({name:"MainSlideSupport",components:{MainSlideRow:je},setup(){const e=K(),{strings:t}=de(e);return{strings:t}}}),on={class:"slide support layout vertical c-vert"},sn={class:"title"},rn=u("div",{class:"separator"},null,-1);function cn(e,t,o,i,r,s){const n=E("main-slide-row");return d(),v("div",on,[u("div",sn,S(e.strings.break.main.support.title),1),rn,(d(!0),v(T,null,H(e.strings.break.main.support.items,(a,l)=>(d(),I(n,{key:`support-item_${l}`,"is-custom-icon":a.isCustomIcon??!1,icon:a.icon,"first-row":a.text},null,8,["is-custom-icon","icon","first-row"]))),128))])}const ln=R(nn,[["render",cn]]),dn=nodecg.Replicant("nextRound",Q),un=[dn],ae=re("nextRound",{state:()=>({nextRound:null})});te.add(be.faMusic,$e.faHourglassEnd);const pn=L({name:"MainSlideNextMatch",components:{SlideTransition:Se,FittedContent:P},setup(){const e=ae(),t=K(),o=_e(),{strings:i}=de(t);return{strings:i,localeInfo:g(()=>t.localeInfo),teamA:g(()=>e.nextRound.teamA),teamB:g(()=>e.nextRound.teamB),nextGames:g(()=>e.nextRound.games.slice(0,3)),numberOfGames:g(()=>e.nextRound.games.length),roundType:g(()=>e.nextRound.round.type),getStageImagePath:o.getStageImagePath,addDots:ge}}}),mn={class:"slide next-round layout vertical c-vert"},hn={class:"title"},fn=u("div",{class:"separator"},null,-1),vn={class:"team-name"},gn={class:"team-name"},_n={id:"round-size"},wn={class:"matches-container layout horiz c-vert"},yn=u("div",{class:"cover glow-border glow-blue"},null,-1),bn={class:"match-text layout vertical"},$n={class:"stage-name"};function Sn(e,t,o,i,r,s){const n=E("fitted-content"),a=E("slide-transition");return d(),v("div",mn,[u("div",hn,S(e.strings.break.main.nextup.title),1),fn,u("div",null,[y(a,null,{default:_(()=>{var l,c;return[(d(),I(n,{key:`${(l=e.teamA)==null?void 0:l.name}-${(c=e.teamB)==null?void 0:c.name}`,"max-width":900,class:"next-team-names"},{default:_(()=>{var h,f;return[u("span",vn,S(e.addDots((h=e.teamA)==null?void 0:h.name)),1),M(" vs "),u("span",gn,S(e.addDots((f=e.teamB)==null?void 0:f.name)),1)]}),_:1}))]}),_:1})]),u("span",_n,S(e.strings.break.main.nextup.matchCount(e.numberOfGames,e.roundType)),1),u("div",null,[u("div",wn,[(d(!0),v(T,null,H(e.nextGames,(l,c)=>(d(),v("div",{key:`${c}_${l.mode}_${l.stage}`,class:"match"},[yn,u("div",{class:"match-background",style:j({backgroundImage:`url('${e.getStageImagePath(l.stage)}')`})},null,4),u("div",bn,[y(n,{"max-width":250,class:"mode-name"},{default:_(()=>[M(S(e.localeInfo.modes[l.mode]),1)]),_:2},1024),u("div",$n,S(e.localeInfo.stages[l.stage]),1)])]))),128))])])])}const Cn=R(pn,[["render",Sn]]),kn=L({name:"BreakMain",components:{MainSlideGeneralInfo:an,MainSlideSupport:ln,MainSlideNextMatch:Cn},setup(){const e=ae(),t=ye([{component:"MainSlideGeneralInfo"},{component:"MainSlideSupport",duration:15},{component:"MainSlideNextMatch",enabled:g(()=>e.nextRound.showOnStream)}]),o=s=>{p.set(s.querySelector(".main-content-wrapper"),{height:0,opacity:0}),p.set(s.querySelector(".logo-wrapper"),{opacity:0})},i=(s,n)=>{const a=p.timeline({onComplete:n});return a.addLabel("sceneIn"),a.to(s.querySelector(".main-content-wrapper"),{duration:.2,opacity:1},"sceneIn").to(s.querySelector(".main-content-wrapper"),{duration:.55,height:700,ease:"power2.out"},"sceneIn").to(s.querySelector(".logo-wrapper"),{opacity:1,duration:.5,ease:"power2.out"},"sceneIn"),a},r=(s,n)=>{const a=p.timeline({onComplete:n});return a.addLabel("sceneOut"),a.to(s.querySelectorAll(".main-content-wrapper, .main-slides"),{duration:.55,height:0,ease:"power2.in"},"sceneOut").to(s.querySelector(".main-content-wrapper"),{duration:.2,opacity:1,delay:.35},"sceneOut").to(s.querySelector(".logo-wrapper"),{opacity:0,duration:.5,ease:"power2.in"},"sceneOut"),a};return F("break",null,{beforeEnter:o,enter:i,leave:r}),{activeSlide:t.activeComponent,beforeEnter:o,enter:i,leave:r,beforeSlideEnter:s=>{p.set(s.children,{y:-50,opacity:0})},slideEnter:(s,n)=>{p.to(s.children,{y:0,opacity:1,duration:.5,stagger:-.05,ease:"power2.out",onComplete:n})},slideLeave:(s,n)=>{p.to(s.children,{y:50,opacity:0,duration:.5,stagger:-.05,ease:"power2.in",onComplete:n})},resolveStaticPath:Ve}}}),En={class:"main-scene-wrapper w-max layout horiz c-vert c-horiz"},Bn={class:"logo-wrapper layout vertical c-horiz c-vert"},In=["src"],Ln={class:"tournament-name layout horiz"},Rn=u("span",{class:"logo-font"},"SuperJump",-1),Mn=["src"],An=["src"],Pn={class:"main-content-wrapper layout c-vert glow-border glow-blue"},Tn={class:"main-slides layout vertical c-horiz c-vert"};function qn(e,t,o,i,r,s){return d(),v("div",En,[u("div",Bn,[u("img",{src:e.resolveStaticPath("/SJ_Logo.png"),class:"logo"},null,8,In),u("div",Ln,[Rn,u("img",{src:e.resolveStaticPath("/SJ_4.png"),class:"edition"},null,8,Mn)]),u("img",{src:e.resolveStaticPath("/ipl-powered-inkling.png"),class:"ipl-powered"},null,8,An)]),u("div",Pn,[u("div",Tn,[y(O,{mode:"out-in",css:!1,onEnter:e.slideEnter,onLeave:e.slideLeave,onBeforeEnter:e.beforeSlideEnter},{default:_(()=>[(d(),I(De(e.activeSlide)))]),_:1},8,["onEnter","onLeave","onBeforeEnter"])])])])}const On=R(kn,[["render",qn]]),Dn=L({name:"BreakInfoBarWelcome",setup(){const e=K(),{strings:t}=de(e);return{strings:t}}}),zn={class:"info-row layout c-horiz c-vert"},Nn=["innerHTML"];function Vn(e,t,o,i,r,s){return d(),v("div",zn,[u("div",{innerHTML:e.strings.break.infobar.welcome},null,8,Nn)])}const Hn=R(Dn,[["render",Vn]]);te.add(it.faMicrophone);const Un=L({name:"BreakInfoBarCasters",components:{Badge:ue,FittedContent:P,OpacitySwapTransition:U,FontAwesomeIcon:me},setup(){const e=Z();return{key:g(()=>Object.values(e.casters).map(t=>`${t.name}_${t.pronouns}`).join("_")),casterCount:g(()=>Object.keys(e.casters).length),casters:g(()=>e.casters)}}}),jn={class:"caster-name",style:{marginRight:"10px"}},Fn={key:0};function Gn(e,t,o,i,r,s){const n=E("font-awesome-icon"),a=E("badge"),l=E("fitted-content"),c=E("opacity-swap-transition");return d(),I(c,null,{default:_(()=>[(d(),v("div",{key:e.key,class:"info-row layout c-horiz c-vert"},[y(n,{icon:"microphone",class:"icon"}),(d(),I(l,{key:e.key,"max-width":950},{default:_(()=>[(d(!0),v(T,null,H(e.casters,(h,f,B)=>(d(),v("span",{key:f},[u("span",jn,S(h.name),1),y(a,{class:"caster-pronouns"},{default:_(()=>[M(S(h.pronouns),1)]),_:2},1024),B!==e.casterCount-1?(d(),v("span",Fn,S(B===e.casterCount-2?" & ":", "),1)):D("",!0)]))),128))]),_:1}))]))]),_:1})}const Wn=R(Un,[["render",Gn]]),Yn=L({name:"BreakInfoBarMusic",components:{FittedContent:P,OpacitySwapTransition:U,FontAwesomeIcon:me},setup(){const e=he();return{nowPlaying:g(()=>gt(e.nowPlaying))}}});function Jn(e,t,o,i,r,s){const n=E("font-awesome-icon"),a=E("fitted-content"),l=E("opacity-swap-transition");return d(),I(l,null,{default:_(()=>[(d(),v("div",{key:e.nowPlaying,class:"info-row layout c-horiz c-vert"},[y(n,{icon:"music",class:"icon"}),y(a,{"max-width":950},{default:_(()=>[u("span",null,S(e.nowPlaying),1)]),_:1})]))]),_:1})}const Kn=R(Yn,[["render",Jn]]);te.add(Ce.faTwitter);const Xn=L({name:"BreakInfoBarCasters",components:{Badge:ue,FittedContent:P,OpacitySwapTransition:U,FontAwesomeIcon:me},setup(){const e=Z();return{key:g(()=>Object.values(e.casters).map(t=>`${t.twitter}_${t.pronouns}`).join("_")),casterCount:g(()=>Object.keys(e.casters).length),casters:g(()=>e.casters)}}}),Qn={class:"caster-name",style:{marginRight:"10px"}},Zn={key:0};function xn(e,t,o,i,r,s){const n=E("font-awesome-icon"),a=E("badge"),l=E("fitted-content"),c=E("opacity-swap-transition");return d(),I(c,null,{default:_(()=>[(d(),v("div",{key:e.key,class:"info-row layout c-horiz c-vert"},[y(n,{icon:["fab","twitter"],class:"icon"}),y(l,{"max-width":950},{default:_(()=>[(d(!0),v(T,null,H(e.casters,(h,f,B)=>(d(),v("span",{key:f},[u("span",Qn,S(h.twitter),1),y(a,{class:"caster-pronouns"},{default:_(()=>[M(S(h.pronouns),1)]),_:2},1024),B!==e.casterCount-1?(d(),v("span",Zn,S(B===e.casterCount-2?" & ":", "),1)):D("",!0)]))),128))]),_:1})]))]),_:1})}const eo=R(Xn,[["render",xn]]),to=L({name:"BreakInfoBarActiveRound",components:{ScoreCounter:Ne,FittedContent:P,OpacitySwapTransition:U},setup(){return{activeRoundStore:W(),addDots:ge}}}),ao=e=>(ce("data-v-3ceff45c"),e=e(),le(),e),no={class:"info-row layout c-horiz c-vert"},oo={class:"scores layout horiz c-vert"},so=ao(()=>u("div",null,null,-1));function ro(e,t,o,i,r,s){const n=E("fitted-content"),a=E("opacity-swap-transition"),l=E("score-counter");return d(),v("div",no,[y(a,null,{default:_(()=>[(d(),I(n,{key:e.activeRoundStore.activeRound.teamA.name,"max-width":400,class:"team-name",align:"right"},{default:_(()=>[u("span",null,S(e.addDots(e.activeRoundStore.activeRound.teamA.name)),1)]),_:1}))]),_:1}),u("div",oo,[y(l,{value:e.activeRoundStore.activeRound.teamA.score,"max-width":50},null,8,["value"]),so,y(l,{value:e.activeRoundStore.activeRound.teamB.score,"max-width":50},null,8,["value"])]),y(a,null,{default:_(()=>[(d(),I(n,{key:e.activeRoundStore.activeRound.teamB.name,"max-width":400,class:"team-name"},{default:_(()=>[u("span",null,S(e.addDots(e.activeRoundStore.activeRound.teamB.name)),1)]),_:1}))]),_:1})])}const io=R(to,[["render",ro],["__scopeId","data-v-3ceff45c"]]),co=L({name:"BreakInfoBarNextRound",components:{FittedContent:P,OpacitySwapTransition:U},setup(){const e=ae(),t=K();return{nextRoundStore:e,localeInfoStore:t,addDots:ge}}}),lo={class:"title"};function uo(e,t,o,i,r,s){const n=E("fitted-content"),a=E("opacity-swap-transition");return d(),I(a,null,{default:_(()=>[(d(),v("div",{key:`${e.nextRoundStore.nextRound.teamA.name}_${e.nextRoundStore.nextRound.teamB.name}`,class:"info-row layout c-horiz c-vert"},[u("div",lo,S(e.localeInfoStore.strings.break.infobar.nextUp),1),M("  "),y(n,{"max-width":e.localeInfoStore.runtimeConfig.locale==="DE"?750:850,class:"team-name",align:"right"},{default:_(()=>[u("span",null,S(e.addDots(e.nextRoundStore.nextRound.teamA.name))+" vs "+S(e.addDots(e.nextRoundStore.nextRound.teamB.name)),1)]),_:1},8,["max-width"])]))]),_:1})}const po=R(co,[["render",uo],["__scopeId","data-v-b272753b"]]),mo=L({name:"BreakInfoBar",components:{OpacitySwapTransition:U,BreakInfoBarWelcome:Hn,BreakInfoBarCasters:Wn,BreakInfoBarCasterTwitters:eo,BreakInfoBarMusic:Kn,BreakInfoBarActiveRound:io,BreakInfoBarNextRound:po},setup(){const e=he(),t=W(),o=pe(),i=ae(),r=g(()=>!o.breakUseCastersScene),s=ye([{component:"BreakInfoBarWelcome",duration:10},{component:"BreakInfoBarCasters",duration:20,enabled:r},{component:"BreakInfoBarCasterTwitters",duration:20,enabled:r},{component:"BreakInfoBarMusic",enabled:g(()=>e.musicShown)},{component:"BreakInfoBarActiveRound",enabled:g(()=>o.activeScene!=="stages"&&!i.nextRound.showOnStream)},{component:"BreakInfoBarNextRound",enabled:g(()=>o.activeScene!=="stages"&&i.nextRound.showOnStream)}]),n=g(()=>{var a;return(a=t.activeRound.games.find(l=>l.winner==="none"))==null?void 0:a.mode});return{activeSlide:s.activeComponent,nextMode:n,modeIconSrc:g(()=>ot(n.value)),beforeSlideEnter:a=>{p.set(a,{opacity:0,y:-35})},slideEnter:(a,l)=>{p.to(a,{opacity:1,y:0,ease:"power2.out",duration:.35,onComplete:l})},slideLeave:(a,l)=>{p.to(a,{opacity:0,y:35,ease:"power2.in",duration:.35,onComplete:l})},resolveStaticPath:Ve}}}),ho={class:"info-bar-wrapper w-max layout c-horiz"},fo={class:"info-bar layout horiz c-horiz glow-border glow-blue"},vo={class:"bar-content"},go={class:"icon-wrapper layout horiz c-vert c-horiz"},_o=["src"],wo={class:"text-wrapper"},yo={id:"info-rows",class:"info-rows"},bo={class:"icon-wrapper mode-icon layout horiz c-vert c-horiz"},$o=["src"];function So(e,t,o,i,r,s){const n=E("opacity-swap-transition");return d(),v("div",ho,[u("div",fo,[u("div",vo,[u("div",go,[u("img",{src:e.resolveStaticPath("/SJ_Eyes.png"),class:"icon eyes-icon"},null,8,_o)]),u("div",wo,[u("div",yo,[y(O,{mode:"out-in",css:!1,onEnter:e.slideEnter,onLeave:e.slideLeave,onBeforeEnter:e.beforeSlideEnter},{default:_(()=>[(d(),I(De(e.activeSlide)))]),_:1},8,["onEnter","onLeave","onBeforeEnter"])])]),u("div",bo,[y(n,null,{default:_(()=>[(d(),v("img",{key:e.nextMode,src:e.modeIconSrc,class:N(["icon",{"mode-icon":e.nextMode!=null,"eyes-icon":e.nextMode==null}])},null,10,$o))]),_:1})])])])])}const Co=R(mo,[["render",So]]);async function ko(e){return new Promise(t=>{if(He(e))return t(!1);const o=new Image;o.src=e,o.onload=()=>{t(!0)},o.onerror=()=>{t(!1)}})}const Eo=L({name:"ImageLoader",components:{OpacitySwapTransition:U},props:{src:{type:[String,null],default:null},defaultSrc:{type:[String,null],default:null}},setup(e){const t=J(!0),o=J(!1);return ie(()=>e.src,async i=>{t.value=!0;try{o.value=await ko(i)}catch(r){console.error(r),o.value=!1}finally{t.value=!1}},{immediate:!0}),{doesImageExist:o,imageVisible:g(()=>(o.value||!pt(e.defaultSrc))&&!t.value)}}}),Bo={class:"image-loader-wrapper"};function Io(e,t,o,i,r,s){const n=E("opacity-swap-transition");return d(),v("div",Bo,[y(n,null,{default:_(()=>[e.imageVisible?(d(),v("div",{key:0,style:j({backgroundImage:`url('${e.doesImageExist?e.src:e.defaultSrc}')`}),class:"image-loader"},null,4)):D("",!0)]),_:1})])}const Lo=R(Eo,[["render",Io]]),Ro=L({name:"VideoLoader",props:{src:{type:[String,null],default:null}},setup(e){const t=J(null),o=J(!1),i=s=>{s.source===t.value.contentWindow&&s.data.action==="new-video-track-added"&&(o.value=!0)},r=()=>o.value=!0;return qe(()=>{ie(()=>e.src,s=>{window.removeEventListener("message",i),t.value.removeEventListener("load",r),s.includes("vdo.ninja")?window.addEventListener("message",i):t.value.addEventListener("load",r)},{immediate:!0})}),Oe(()=>{window.removeEventListener("message",i)}),{iframe:t,loaded:o}}}),Mo={class:"video-loader-wrapper"},Ao=["src"];function Po(e,t,o,i,r,s){return d(),v("div",Mo,[u("iframe",{ref:"iframe",allow:"autoplay;camera;microphone;fullscreen;picture-in-picture;display-capture;midi;geolocation;",src:e.src,width:"1280",height:"720",class:N({loaded:e.loaded})},null,10,Ao)])}const To=R(Ro,[["render",Po]]),qo=e=>(ce("data-v-f27598f1"),e=e(),le(),e),Oo=["width","viewBox"],Do=["d"],zo=["d"],No={class:"caster-visual layout c-horiz c-vert"},Vo={class:"caster-details"},Ho=qo(()=>u("div",{class:"background"},null,-1)),Te=10,V=10,Uo=L({__name:"CasterDisplay",props:{caster:{},width:{}},setup(e){const t=e,o=Z(),i=g(()=>Object.keys(o.casters).length),r=g(()=>t.width*(9/16)),s=g(()=>{const n=wt();return n.moveTo(0,0),n.lineTo(t.width-V,0),n.arc(t.width-V,V,V,Math.PI*1.5,0),n.lineTo(t.width,r.value-V),n.arc(t.width-V,r.value-V,V,0,Math.PI*.5),n.lineTo(V,r.value),n.arc(V,r.value+V,V,Math.PI*1.5,Math.PI,!0),n.lineTo(0,r.value+100),n.toString()});return(n,a)=>(d(),v("div",{class:N(["caster-display-wrapper layout vertical c-horiz",`caster-count-${i.value}`])},[u("div",{class:"caster-display",style:j({width:`${n.width}px`})},[(d(),v("svg",{class:"caster-line",width:n.width+Te*2,height:"1000",viewBox:`0 -${Te} ${n.width} 1000`},[u("path",{fill:"transparent",class:"caster-line-color",d:s.value},null,8,Do),u("path",{fill:"transparent",class:"caster-line-white",d:s.value},null,8,zo)],8,Oo)),u("div",{class:"caster-visual-wrapper",style:j({height:`${r.value}px`})},[u("div",No,[z(He)(n.caster.videoUrl)?(d(),I(Lo,{key:0,class:"caster-image",src:n.caster.imageUrl,"default-src":"/bundles/sj-overlays/assets/caster-image-placeholder.webp"},null,8,["src"])):(d(),I(To,{key:1,src:n.caster.videoUrl,class:"caster-video"},null,8,["src"]))])],4),u("div",Vo,[Ho,y(U,null,{default:_(()=>[(d(),v("div",{key:`${n.caster.name}_${n.caster.pronouns}`,class:"caster-name"},[M(S(n.caster.name)+" ",1),y(ue,null,{default:_(()=>[M(S(n.caster.pronouns),1)]),_:1})]))]),_:1}),y(U,null,{default:_(()=>[(d(),v("div",{key:n.caster.twitter,class:"caster-twitter"},S(n.caster.twitter),1))]),_:1})])],4)],2))}}),jo=R(Uo,[["__scopeId","data-v-f27598f1"]]),Fo={class:"casters-wrapper w-max layout horiz c-horiz"},Go={class:"casters-layout"},Wo=L({__name:"BreakCasters",setup(e){const t=Z(),o=g(()=>{switch(Object.keys(t.casters).length){case 1:return 1e3;case 2:return 700;default:return 500}});return F("break-casters",null,{beforeEnter:n=>{p.set(n.querySelectorAll(".caster-line-color, .caster-line-white"),{drawSVG:"0%"}),p.set(n.querySelectorAll(".caster-name, .caster-twitter"),{opacity:0,x:-100}),p.set(n.querySelectorAll(".caster-details > .background"),{opacity:0}),p.set(n.querySelectorAll(".caster-visual"),{y:"-101%"})},enter:(n,a)=>{const l=p.timeline({onComplete:a});return l.addLabel("sceneIn"),l.to(n.querySelectorAll(".caster-line-color, .caster-line-white"),{drawSVG:"100%",duration:1,stagger:c=>Math.floor(c/2)*.5,ease:"power2.inOut"},"sceneIn").to(n.querySelectorAll(".caster-details > .background"),{opacity:1,stagger:.5},"sceneIn").to(n.querySelectorAll(".caster-name, .caster-twitter"),{opacity:1,x:0,duration:.65,delay:(c,h)=>h.classList.contains("caster-name")?.9:1.1,stagger:c=>Math.floor(c/2)*.5,ease:"power2.out"},"sceneIn").to(n.querySelectorAll(".caster-visual"),{y:0,delay:.5,stagger:.5,ease:"power2.out"},"sceneIn"),l},leave:(n,a)=>{const l=p.timeline({onComplete:a});return l.addLabel("sceneOut"),l.to(n.querySelectorAll(".caster-line-color, .caster-line-white"),{drawSVG:"0%",duration:1,stagger:c=>Math.floor(c/2)*.5,delay:.5,ease:"power2.inOut"},"sceneOut").to(n.querySelectorAll(".caster-details > .background"),{opacity:0,stagger:.5,delay:.5},"sceneOut").to(n.querySelectorAll(".caster-name, .caster-twitter"),{opacity:0,x:100,duration:.65,delay:(c,h)=>h.classList.contains("caster-name")?0:.2,stagger:c=>Math.floor(c/2)*.5,ease:"power2.in"},"sceneOut").to(n.querySelectorAll(".caster-visual"),{y:"101%",stagger:.5,ease:"power2.in"},"sceneOut"),l}}),(n,a)=>(d(),v("div",Fo,[u("div",Go,[(d(!0),v(T,null,H(z(t).casters,(l,c)=>(d(),I(jo,{key:c,caster:l,width:o.value},null,8,["caster","width"]))),128))])]))}}),Yo=R(Wo,[["__scopeId","data-v-32a1503a"]]),Jo=L({name:"BreakGraphic",components:{BreakCasters:Yo,BreakInfoBar:Co,BreakMain:On,BreakTeams:Ua,BreakStages:Wt,IconBackground:st},setup(){const e=pe(),t=J(!0);_t(a=>{(a.detail.active||a.detail.visible)&&(t.value=!1,setTimeout(()=>{t.value=!0},2500))});const o={};X(x,o);const i=a=>{p.set(a.querySelector(".info-bar"),{width:0,opacity:0})},r=p.timeline(),s=(a,l)=>{const c=p.timeline({onComplete:l,onStart:()=>{p.set(a.querySelector(".info-bar"),{opacity:1})},delay:.6});return c.to(a.querySelector(".info-bar"),{duration:.65,width:1300,ease:"power2.out"}),c},n=(a,l)=>{const c=p.timeline({onComplete:l});return c.to(a.querySelector(".info-bar"),{duration:.65,width:0,ease:"power2.in"}),c};return{activeBreakScene:g(()=>e.activeScene),beforeEnter:a=>{o.break.beforeEnter(a)},enter:(a,l)=>{const c=p.timeline({onComplete:l});c.add(o.break.enter(a)),r.add(c)},leave:(a,l)=>{const c=p.timeline({onComplete:l});c.add(o.break.leave(a)),r.add(c)},beforeCastersEnter:a=>{o["break-casters"].beforeEnter(a)},castersEnter:(a,l)=>{const c=p.timeline({onComplete:l});c.add(o["break-casters"].enter(a)),r.add(c)},castersLeave:(a,l)=>{const c=p.timeline({onComplete:l});c.add(o["break-casters"].leave(a)),r.add(c)},beforeInfoBarEnter:i,infoBarEnter:s,infoBarLeave:n,contentVisible:t}}});function Ko(e,t,o,i,r,s){const n=E("break-casters"),a=E("break-stages"),l=E("break-teams"),c=E("break-main"),h=E("break-info-bar"),f=E("icon-background");return d(),v(T,null,[ke(u("div",null,[y(O,{appear:"",css:!1,onEnter:e.castersEnter,onLeave:e.castersLeave,onBeforeEnter:e.beforeCastersEnter},{default:_(()=>[ke(y(n,null,null,512),[[Ee,e.contentVisible&&e.activeBreakScene==="casters"]])]),_:1},8,["onEnter","onLeave","onBeforeEnter"])],512),[[Ee,e.contentVisible]]),e.contentVisible?(d(),v(T,{key:0},[y(O,{appear:"",mode:"out-in",css:!1,onEnter:e.enter,onLeave:e.leave,onBeforeEnter:e.beforeEnter},{default:_(()=>[e.activeBreakScene==="stages"?(d(),I(a,{key:0})):e.activeBreakScene==="teams"?(d(),I(l,{key:1})):e.activeBreakScene==="main"?(d(),I(c,{key:2})):D("",!0)]),_:1},8,["onEnter","onLeave","onBeforeEnter"]),y(O,{appear:"",mode:"out-in",css:!1,onEnter:e.infoBarEnter,onLeave:e.infoBarLeave,onBeforeEnter:e.beforeInfoBarEnter},{default:_(()=>[e.activeBreakScene==="teams"||e.activeBreakScene==="stages"||e.activeBreakScene==="casters"?(d(),I(h,{key:0})):D("",!0)]),_:1},8,["onEnter","onLeave","onBeforeEnter"])],64)):D("",!0),y(f)],64)}const Xo=R(Jo,[["render",Ko]]);p.registerPlugin(Qe);p.registerPlugin(ze);ze.registerPIXI(rt);(async()=>{const e=tt(Xo);e.use(at()),await G(ut,W()),await G(ct,Z()),await G(ht,pe()),await G(Xa,he()),await G(un,ae()),await G(Jt,we()),await G(lt,K()),await G(It,_e()),await G(mt,ee()),vt(e),e.mount("#app")})();
